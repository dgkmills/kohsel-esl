<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lesson 02: Short Vowel Sounds - Kohsel English</title>
  
  <!-- Firebase SDKs -->
  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/protect.js"></script>
  
  <link rel="stylesheet" href="css/style.css">

  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="images/logo.png" type="image/png">
  
  <style>
    /* Hides the body until auth check is complete */
    body { display: none; }
    
    /* Lesson content styles */
    .lesson-content {
      line-height: 1.8;
    }
    .lesson-content h3 {
      border-bottom: 2px solid #003366;
      padding-bottom: 5px;
      margin-top: 40px;
    }
    .lesson-content strong {
      color: #003366;
    }
    
    /* Example table styles */
    .example-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      font-size: 1.1rem;
    }
    .example-table th,
    .example-table td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }
    .example-table th {
      background-color: #f4f7f6;
      color: #003366;
    }
    .example-table td code {
      background-color: #eef;
      padding: 3px 6px;
      border-radius: 4px;
      font-size: 1.2rem;
      font-weight: bold;
    }

    /* Quiz Styles */
    .lesson-quiz-container {
      background-color: #fff;
      border: 1px solid #003366;
      border-radius: 8px;
      padding: 20px;
      margin-top: 30px;
    }
    .quiz-question {
      margin-bottom: 15px;
    }
    .quiz-question fieldset {
      border: none;
      padding: 0;
      margin: 0;
    }
    .quiz-question legend {
      font-weight: bold;
      margin-bottom: 8px;
      padding: 0;
      font-size: 1.1rem;
    }
    .quiz-option {
      display: block;
      margin-bottom: 5px;
      font-size: 1.05rem;
    }
    .quiz-submit {
      padding: 12px 20px;
      background-color: #003366;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .quiz-submit:hover {
      background-color: #0056b3;
    }
    .quiz-result {
      margin-top: 15px;
      font-weight: bold;
      padding: 10px;
      border-radius: 5px;
      display: none;
    }
    .quiz-result.success {
      color: #155724;
      background-color: #D4EDDA;
      border: 1px solid #C3E6CB;
    }
    .quiz-result.error {
      color: #721C24;
      background-color: #F8D7DA;
      border: 1px solid #F5C6CB;
    }
  </style>
</head>
<body>

  <header>
    <div class="logo-container">
      <img src="images/logo.png" alt="Kohsel Logo">
      <h1>English Portal</h1>
    </div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="lessons.html" class="active">Lessons</a></li>
        <li><a href="videos.html">Videos</a></li>
        <li><a href="tools.html">Tools</a></li>
        <li id="dashboard-nav-link" style="display: none;"><a href="dashboard.html">Dashboard</a></li>
        <li><button id="logout-button">Logout</button></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <h2>Lesson 02: Short Vowel Sounds (Interactive)</h2>
    
    <div class="lesson-content">
      <p>
        Welcome to your first interactive lesson! Today, we will learn about **short vowel sounds**.
      </p>
      <p>
        English has five vowels: **A, E, I, O, U**. Each vowel can make a short sound and a long sound. Short vowel sounds are quick and clear.
      </p>
      
      <h3>Kohsel Vowel Sound Examples</h3>
      <p>
        Let's practice these sounds using words you might see at Kohsel.
      </p>
      
      <table class="example-table">
        <thead>
          <tr>
            <th>Short Vowel</th>
            <th>Sound (like in...)</th>
            <th>Kohsel Examples</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>A</code></td>
            <td>cat, apple</td>
            <td><strong>tra</strong>nsformer, <strong>pla</strong>nt, m<strong>a</strong>nager, <strong>a</strong>nalysis</td>
          </tr>
          <tr>
            <td><code>E</code></td>
            <td>bed, egg</td>
            <td>t<strong>e</strong>st, w<strong>e</strong>ld, ass<strong>e</strong>mbly, s<strong>e</strong>nd</td>
          </tr>
          <tr>
            <td><code>I</code></td>
            <td>sit, igloo</td>
            <td>w<strong>i</strong>nding, sh<strong>i</strong>p, <strong>i</strong>nspect, f<strong>i</strong>x</td>
          </tr>
          <tr>
            <td><code>O</code></td>
            <td>hot, octopus</td>
            <td>c<strong>o</strong>pper, c<strong>o</strong>il, pr<strong>o</strong>duct, b<strong>o</strong>x</td>
          </tr>
          <tr>
            <td><code>U</code></td>
            <td>sun, umbrella</td>
            <td>fl<strong>u</strong>x, c<strong>u</strong>stomer, pr<strong>o</strong>duction, b<strong>u</strong>siness</td>
          </tr>
        </tbody>
      </table>
      
      <h3>Minimal Pair Drills</h3>
      <p>
        "Minimal pairs" are words that sound almost the same, with only one sound being different. Let's practice hearing the difference.
      </p>
      
      <table class="example-table">
        <thead>
          <tr>
            <th>Vowel Pair</th>
            <th>Example 1</th>
            <th>Example 2</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>A / E</strong></td>
            <td>b<strong>a</strong>d (not good)</td>
            <td>b<strong>e</strong>d (you sleep on it)</td>
          </tr>
           <tr>
            <td><strong>I / E</strong></td>
            <td>p<strong>i</strong>n (small sharp metal)</td>
            <td>p<strong>e</strong>n (you write with it)</td>
          </tr>
           <tr>
            <td><strong>A / U</strong></td>
            <td>r<strong>a</strong>n (past of run)</td>
            <td>r<strong>u</strong>n (to move fast)</td>
          </tr>
          <tr>
            <td><strong>O / U</strong></td>
            <td>c<strong>o</strong>p (police officer)</td>
            <td>c<strong>u</strong>p (you drink from it)</td>
          </tr>
           <tr>
            <td><strong>I / A</strong></td>
            <td>s<strong>i</strong>t (to be in a chair)</td>
            <td>s<strong>a</strong>t (past of sit)</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- NEW: Lesson 2 Quiz -->
    <div class="lesson-quiz-container">
      <h3>Lesson 02: Check Your Understanding</h3>
      <p>Take this short quiz to practice what you've learned.</p>
      <form id="lesson-quiz-form">
        
        <div class="quiz-question">
          <fieldset>
            <legend>1. Which Kohsel word has the short 'A' sound (like 'cat')?</legend>
            <label class="quiz-option"><input type="radio" name="lq1" value="a" required> Team</label>
            <label class="quiz-option"><input type="radio" name="lq1" value="b" required> Plant</label>
            <label class="quiz-option"><input type="radio" name="lq1" value="c" required> Coil</label>
          </fieldset>
        </div>
        
        <div class="quiz-question">
          <fieldset>
            <legend>2. Which word has the short 'E' sound (like 'bed')?</legend>
            <label class="quiz-option"><input type="radio" name="lq2" value="a" required> Test</label>
            <label class="quiz-option"><input type="radio" name="lq2" value="b" required> Ship</label>
            <label class="quiz-option"><input type="radio" name="lq2" value="c" required> Wire</label>
          </fieldset>
        </div>

        <div class="quiz-question">
          <fieldset>
            <legend>3. Which word has the short 'I' sound (like 'sit')?</legend>
            <label class="quiz-option"><input type="radio" name="lq3" value="a" required> Send</label>
            <label class="quiz-option"><input type="radio" name="lq3" value="b" required> Time</label>
            <label class="quiz-option"><input type="radio" name="lq3" value="c" required> Winding</label>
          </fieldset>
        </div>

        <div class="quiz-question">
          <fieldset>
            <legend>4. Which word has the short 'O' sound (like 'hot')?</legend>
            <label class="quiz-option"><input type="radio" name="lq4" value="a" required> Copper</label>
            <label class="quiz-option"><input type="radio" name="lq4" value="b" required> Flux</label>
            <label class="quiz-option"><input type="radio" name="lq4" value="c" required> Manager</label>
          </fieldset>
        </div>
        
        <div class="quiz-question">
          <fieldset>
            <legend>5. "I need to ___ the report to the manager." Which word fits best?</legend>
            <label class="quiz-option"><input type="radio" name="lq5" value="a" required> sand</label>
            <label class="quiz-option"><input type="radio" name="lq5" value="b" required> send</label>
            <label class="quiz-option"><input type="radio" name="lq5" value="c" required> sound</label>
          </fieldset>
        </div>

        <button type="submit" class="quiz-submit">Submit Lesson Quiz</button>
      </form>
      <div id="lesson-quiz-result" class="quiz-result"></div>
    </div>

  </main>

  <footer>
    <p>&copy; 2025 Kohsel & Dan Mills</p>
  </footer>

  <script src="js/app.js"></script>
  <!-- NEW: Load the lesson quiz logic script -->
  <script type="module" src="js/lesson-quiz-logic.js"></script>
  
  <script type="module">
    import { auth, signOut } from './js/firebase-init.js';

    document.getElementById('logout-button').addEventListener('click', () => {
      signOut(auth).then(() => {
        // Sign-out successful, redirect to login page.
        window.location.href = 'login.html';
      }).catch((error) => {
        console.error("Sign out error:", error);
      });
    });
  </script>
</body>
</html>
