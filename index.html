<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kohsel English Portal</title>
  
  <!-- Firebase SDKs -->
  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/protect.js"></script>
  
  <!-- FIX: Corrected stylesheet name from styles.css to style.css -->
  <link rel="stylesheet" href="css/style.css">
  
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="images/logo.png" type="image/png">
  <!-- iOS meta tags for PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Kohsel English">
  <link rel="apple-touch-icon" href="images/icon-192.png">
  
  <style>
    /* Hides the body until auth check is complete */
    body { display: none; }
  </style>
</head>
<body>

  <header>
    <div class="logo-container">
      <img src="images/logo.png" alt="Kohsel Logo">
      <h1>English Portal</h1>
    </div>
    <nav>
      <ul>
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="lessons.html">Lessons</a></li>
        <li><a href="videos.html">Videos</a></li>
        <li><a href="tools.html">Tools</a></li>
        <!-- This link will be hidden by protect.js if user is not admin -->
        <li id="dashboard-nav-link" style="display: none;"><a href="dashboard.html">Dashboard</a></li>
        <li><button id="logout-button">Logout</button></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <h2>Welcome, Kohsel Team!</h2>
    <p>
      This website is a resource hub to support your English language learning. 
      Here you can find lesson documents, practice exercises, and tools to
      help you communicate more effectively.
    </p>
    <p>
      Please use the navigation links above to explore the different sections:
    </p>
    <ul>
      <li><strong><a href="lessons.html">Lessons:</a></strong> View and download all past lesson materials, presentations, and worksheets.</li>
      <li><strong><a href="videos.html">Videos:</a></strong> Watch video lessons and take quizzes to check your understanding.</li>
      <li><strong><a href="tools.html">Tools:</a></strong> Use the Email Assistant and practice your pronunciation and conversation skills.</li>
    </ul>
    
    <h3>About This Program</h3>
    <p>
      This program is designed for managers in HR, Production, Quality Control, 
      and Accounting to build confidence and precision in business English. 
      If you have any questions or requests for future topics, please let me know.
    </p>
  </main>

  <footer>
    <p>&copy; 2025 Kohsel & Dan Mills</p>
  </footer>

  <script src="js/app.js"></script>
  
  <script type="module">
    import { auth, signOut } from './js/firebase-init.js';

    document.getElementById('logout-button').addEventListener('click', () => {
      signOut(auth).then(() => {
        // Sign-out successful, redirect to login page.
        window.location.href = 'login.html';
      }).catch((error) => {
        console.error("Sign out error:", error);
      });
    });
  </script>
</body>
</html>
